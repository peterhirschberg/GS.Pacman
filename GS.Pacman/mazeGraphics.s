;
;  mazeGraphics.s
;  GS.Pacman
;
;  Created by Peter Hirschberg on 8/19/21.
;Copyright Â© 2021 Peter Hirschberg. All rights reserved.
;

        case on
        mcopy global.macros
        keep global


mazeGraphics start
        using globalData
        using mazeGraphicsData


drawMaze entry

        lda #0
        sta tileSrcX

        lda #8
        sta tileSrcY

        lda #80
        sta tileDstX

        lda #100
        sta tileDstY

        jsr drawMazeTile


        lda #8
        sta tileSrcX

        lda #8
        sta tileSrcY

        lda #84
        sta tileDstX

        lda #100
        sta tileDstY

        jsr drawMazeTile


        lda #16
        sta tileSrcX

        lda #8
        sta tileSrcY

        lda #88
        sta tileDstX

        lda #100
        sta tileDstY

        jsr drawMazeTile

        rts



drawMazeTile entry

        lda #0
        sta rowCounter

fillVLoop anop

; src
        lda rowCounter
        clc
        adc tileSrcY
        asl a
        tax
        lda tileRowOffsets,x
        clc
        adc tileSrcX
        sta dataCounter

; dst
        lda rowCounter
        clc
        adc tileDstY
        asl a
        tax
        lda screenRowOffsets,x
        clc
        adc tileDstX
        sta screenCounter

        lda #7
        sta colCounter

fillHLoop anop

        short m
        ldx dataCounter
        lda >mazeGraphicsDataList,x
        ldx screenCounter
        sta >SCREEN_ADDR,x
        long m

        inc dataCounter
        inc dataCounter
        inc screenCounter

        dec colCounter
        dec colCounter

        lda colCounter
        bmi nextRow
        bra fillHLoop

nextRow anop
        inc rowCounter
        lda rowCounter
        cmp #7
        beq fillDone
        bra fillVLoop

fillDone anop

        rts


rowCounter dc i2'0'
colCounter dc i2'0'

rowAddress dc i4'0'

screenCounter dc i4'0'
dataCounter dc i4'0'

tileSrcX dc i2'0'
tileSrcY dc i2'0'

tileDstX dc i2'0'
tileDstY dc i2'0'


tileRowOffsets anop
        dc i2'$0'
        dc i2'$48'
        dc i2'$90'
        dc i2'$d8'
        dc i2'$120'
        dc i2'$168'
        dc i2'$1b0'
        dc i2'$1f8'
        dc i2'$240'
        dc i2'$288'
        dc i2'$2d0'
        dc i2'$318'
        dc i2'$360'
        dc i2'$3a8'
        dc i2'$3f0'
        dc i2'$438'
        dc i2'$480'
        dc i2'$4c8'
        dc i2'$510'
        dc i2'$558'
        dc i2'$5a0'
        dc i2'$5e8'
        dc i2'$630'
        dc i2'$678'
        dc i2'$6c0'
        dc i2'$708'
        dc i2'$750'
        dc i2'$798'
        dc i2'$7e0'
        dc i2'$828'
        dc i2'$870'
        dc i2'$8b8'
        dc i2'$900'
        dc i2'$948'
        dc i2'$990'
        dc i2'$9d8'
        dc i2'$a20'
        dc i2'$a68'
        dc i2'$ab0'
        dc i2'$af8'
        dc i2'$b40'
        dc i2'$b88'
        dc i2'$bd0'
        dc i2'$c18'
        dc i2'$c60'
        dc i2'$ca8'
        dc i2'$cf0'
        dc i2'$d38'

        end


mazeGraphicsData data mazeGraphicsDataSeg


; Width: $24 bytes  Height: $30 lines

mazeGraphicsDataList anop
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$33,$33,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$03,$33,$33,$30,$11,$11,$11,$11,$11,$11,$11,$11,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$03,$30,$00,$03,$33,$33,$30,$00,$00,$00,$01,$10,$00,$00,$00,$44,$44,$44,$44,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$03,$30,$00,$03,$33,$33,$30,$00,$00,$00,$01,$10,$00,$00,$00,$44,$44,$44,$44,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$03,$33,$33,$30,$11,$11,$11,$11,$11,$11,$11,$11,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$33,$33,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$00,$00,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$00,$00,$11,$00,$00,$00,$00,$00,$00,$11,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$00,$11,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$11,$00,$00,$10,$00,$00,$00,$00,$01,$00,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$01,$00,$00,$00,$00,$10,$00,$00,$00,$01,$00,$00,$10,$00,$00'
        dc i2'$01,$00,$01,$11,$11,$11,$11,$11,$11,$10,$00,$00,$00,$00,$01,$11,$11,$10,$00,$10,$00,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$11,$11,$00,$00,$00'
        dc i2'$10,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$01,$10,$01,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$00,$00,$00,$00'
        dc i2'$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$00,$00,$00,$00'
        dc i2'$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00,$00,$00,$10,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00,$00,$00,$10,$01,$10,$00,$10,$00,$00,$01,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$00,$11,$11,$11,$11,$11,$11,$00,$00,$00,$00,$00,$10,$01,$00,$01,$00,$00,$00,$00,$10,$00,$10,$00,$01,$11,$11,$10,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$10,$00,$00,$00,$00,$10,$01,$00,$01,$00,$00,$00,$00,$10,$00,$10,$00,$00,$00,$00,$00,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$01,$00,$10,$00,$00,$00,$00,$01,$00,$10,$00,$00,$00,$00,$00,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$01,$11,$00,$00,$00,$00,$00,$00,$11,$10,$00,$01,$11,$11,$10,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$10,$00,$00,$01,$00,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$10,$01'
        dc i2'$10,$01,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$10,$00,$10,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$01,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$01,$00,$01,$11,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$11,$10,$00,$10,$00,$00,$00,$11,$11,$00,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$01,$00,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$10,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$11,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$10,$00,$00,$00,$00,$11,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$11,$11,$00,$00,$00,$11,$11,$11,$11,$11,$11,$00,$00,$00,$11,$11,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$01,$11,$11,$11,$11,$11,$11,$10,$00,$00,$00,$00,$01,$11,$11,$11,$11,$11,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$01,$10,$01,$00,$00'
        dc i2'$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$00,$00,$10,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$10,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00'
        dc i2'$00,$00,$01,$11,$11,$11,$11,$11,$11,$10,$00,$00,$00,$00,$01,$11,$00,$00,$01,$11,$00,$00,$00,$11,$11,$00,$00,$00,$00,$00,$11,$11,$11,$11,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$00,$10,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22'
        dc i2'$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22'
        dc i2'$00,$00,$11,$11,$11,$11,$00,$00,$11,$11,$11,$11,$11,$00,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$11,$11,$11,$11,$11,$11,$11,$11,$22,$22,$22,$22'
        dc i2'$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$10,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22'
        dc i2'$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$22,$22,$22,$22'
        dc i2'$00,$00,$10,$01,$10,$01,$00,$00,$11,$10,$00,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$11,$10,$00,$00,$00,$00,$01,$11,$22,$22,$22,$22'
        dc i2'$00,$00,$10,$01,$10,$01,$00,$00,$00,$01,$00,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$01,$00,$00,$00,$00,$10,$00,$22,$22,$22,$22'
        dc i2'$00,$00,$10,$01,$10,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$00,$00,$10,$00,$00,$01,$00,$00,$22,$22,$22,$22'


        end
